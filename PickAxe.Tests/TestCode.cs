//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using HtmlAgilityPack;
using Pickaxe.Runtime;
using System;
using System.Collections.Generic;
using System.Linq;



public class Code : RuntimeBase
{

    private Scope_c62220fa4cbb469aad0be5875a885adc _Scope_c62220fa4cbb469aad0be5875a885adc;

    private Scope_be8fe9add8214ff2b5295b259e86a87c _Scope_be8fe9add8214ff2b5295b259e86a87c;

    public Code()
    {
        _Scope_c62220fa4cbb469aad0be5875a885adc = new Scope_c62220fa4cbb469aad0be5875a885adc();
        _Scope_be8fe9add8214ff2b5295b259e86a87c = new Scope_be8fe9add8214ff2b5295b259e86a87c();
        TotalOperations = (TotalOperations + 1);
    }

    public void Run()
    {
        InitProxies();
        Block_ca88b556028d49b296a773f9cefbe6dc();
        Step_bff4a2e1c8794d2a914e4f4a863b5980();
    }

    public void Block_ca88b556028d49b296a773f9cefbe6dc()
    {
        Step_0d420ba3bb8645948f8654023a0a77ca();
    }

    private RuntimeTable<DownloadPage> Download_f12c42658795448095f66f0aaf195fd8()
    {
        Call(7);
        return Http.DownloadPage(this, "http://", 7);
    }

    private RuntimeTable<DownloadPage> From_9de352f71bd842b6ad72e0e849ee2465()
    {
        Call(7);
        return Download_f12c42658795448095f66f0aaf195fd8();
    }

    private Table<ResultRow> Select_0e643ef784f541ffbcd895eefe6e5d51()
    {
        Call(5);
        RuntimeTable<ResultRow> result = new RuntimeTable<ResultRow>();
        result.AddColumn("size");
        RuntimeTable<DownloadPage> fromTable = From_9de352f71bd842b6ad72e0e849ee2465();
        fromTable = Where_c0432779798b436e85132c288127fa0d(fromTable);
        IEnumerator<DownloadPage> x = fromTable.GetEnumerator();
        for (
        ; x.MoveNext();
        )
        {
            DownloadPage row = x.Current;
            ResultRow resultRow = new ResultRow(1);
            resultRow[0] = row.size;
            if ((resultRow[0] != null))
            {
                result.Add(resultRow);
            }
        }
        OnSelect(result);
        return result;
    }

    private RuntimeTable<DownloadPage> Where_c0432779798b436e85132c288127fa0d(RuntimeTable<DownloadPage> table)
    {
        Call(8);
        RuntimeTable<DownloadPage> newTable = new RuntimeTable<DownloadPage>();
        IList<DownloadPage> rows = table.Where(row =>
        {
            return ((row.size < Convert.ToInt32("20"))
                && true);
        }).ToList();
        newTable.SetRows(rows);
        newTable.CssWhere("p.new");
        return newTable;
    }

    public void Step_0d420ba3bb8645948f8654023a0a77ca()
    {
        Select_0e643ef784f541ffbcd895eefe6e5d51();
        OnProgress();
    }

    public void Step_bff4a2e1c8794d2a914e4f4a863b5980()
    {
        OnProgress(new ProgressArgs(TotalOperations, TotalOperations));
    }

    private class Scope_c62220fa4cbb469aad0be5875a885adc
    {

        public int g_identity;

        public Scope_c62220fa4cbb469aad0be5875a885adc()
        {
        }
    }

    private class Scope_be8fe9add8214ff2b5295b259e86a87c
    {

        public CodeTable<temp> temp;

        public Scope_be8fe9add8214ff2b5295b259e86a87c()
        {
            temp = new BufferTable<temp>();
        }
    }

    private class temp : IRow
    {

        public int id;
    }
}
