//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Pickaxe.Runtime;
using Pickaxe.Runtime.Dom;
using System;
using System.Collections.Generic;
using System.Linq;



public class Code : RuntimeBase
{

    private Scope_91cec99fabaa499187b1754d0ba759dd _Scope_91cec99fabaa499187b1754d0ba759dd;

    private Scope_7cef75fe778841a59a333156cddc9a5f _Scope_7cef75fe778841a59a333156cddc9a5f;

    public Code(string[] args) :
        base(args)
    {
        _Scope_91cec99fabaa499187b1754d0ba759dd = new Scope_91cec99fabaa499187b1754d0ba759dd();
        _Scope_7cef75fe778841a59a333156cddc9a5f = new Scope_7cef75fe778841a59a333156cddc9a5f();
        TotalOperations = (TotalOperations + 1);
    }

    public void Run()
    {
        InitProxies();
        Block_b05058acec194c53ab2bc04dc50572aa();
        Step_c07134a9e39c4fcc97a76112874fc272();
    }

    public void Block_b05058acec194c53ab2bc04dc50572aa()
    {
        Step_9953748b72c747dd811f8b8d0fd7a7e7();
    }

    private CodeTable<anon_e88004e435a542058ba9d176d39c755c> From_4e44dcf0a4be49c9b1ebb1818200b215()
    {
        Call(6);
        IEnumerable<anon_e88004e435a542058ba9d176d39c755c> join = Fetch_c0d67b41a3c845a1bb67a8cd492684de();
        CodeTable<anon_e88004e435a542058ba9d176d39c755c> newTable = new CodeTable<anon_e88004e435a542058ba9d176d39c755c>();
        newTable.SetRows(join.ToList());
        return newTable;
    }

    private CodeTable<anon_6ff42fd418814f4699ae309128d6d642> From_68d55bbeb0024b708edeb7ded9f17b64()
    {
        Call(10);
        IEnumerable<anon_6ff42fd418814f4699ae309128d6d642> join = Fetch_58be3fd9b77f4ae0928a82e5d396fee9();
        CodeTable<anon_6ff42fd418814f4699ae309128d6d642> newTable = new CodeTable<anon_6ff42fd418814f4699ae309128d6d642>();
        newTable.SetRows(join.ToList());
        return newTable;
    }

    private RuntimeTable<DownloadPage> Download_f5964bc24af84add9b1cc57eb62c0f6a()
    {
        Call(10);
        return new SelectDownloadTable(Pickaxe.Runtime.LazyDownloadArgs.CreateWebRequestArgs(this, 10, 1, "http://vtss.brockreeve.com/?t=All"));
    }

    private IEnumerable<anon_6ff42fd418814f4699ae309128d6d642> Fetch_58be3fd9b77f4ae0928a82e5d396fee9()
    {
        RuntimeTable<DownloadPage> table = Download_f5964bc24af84add9b1cc57eb62c0f6a();
        return table.Select(o =>
        {
            return Copy_e05e2ac1eea04b2cb347e58f58c5c907(o);
        });
    }

    private anon_6ff42fd418814f4699ae309128d6d642 Copy_e05e2ac1eea04b2cb347e58f58c5c907(DownloadPage o)
    {
        anon_6ff42fd418814f4699ae309128d6d642 t = new anon_6ff42fd418814f4699ae309128d6d642();
        t.DownloadPage = o;
        return t;
    }

    private CodeTable<b> Nested_Select5148f53fb5ba41b4b0bad04bd68e2b0c()
    {
        Call(8);
        CodeTable<b> result = new BufferTable<b>();
        return result;
    }

    private IEnumerable<anon_e88004e435a542058ba9d176d39c755c> Fetch_c0d67b41a3c845a1bb67a8cd492684de()
    {
        CodeTable<b> table = Nested_Select5148f53fb5ba41b4b0bad04bd68e2b0c();
        return table.Select(o =>
        {
            return Copy_d99dc0499d8c4da1b96a621300b75942(o);
        });
    }

    private anon_e88004e435a542058ba9d176d39c755c Copy_d99dc0499d8c4da1b96a621300b75942(b o)
    {
        anon_e88004e435a542058ba9d176d39c755c t = new anon_e88004e435a542058ba9d176d39c755c();
        t.b = o;
        return t;
    }

    private Table<ResultRow> Select_cf3782af64b844a0b82ab06c975b0587()
    {
        Call(5);
        RuntimeTable<ResultRow> result = new RuntimeTable<ResultRow>();
        result.AddColumn("url");
        result.AddColumn("nodes");
        result.AddColumn("date");
        result.AddColumn("size");
        result.AddColumn("a0");
        result.AddColumn("a1");
        CodeTable<anon_e88004e435a542058ba9d176d39c755c> fromTable = From_4e44dcf0a4be49c9b1ebb1818200b215();
        IEnumerator<anon_e88004e435a542058ba9d176d39c755c> x = fromTable.GetEnumerator();
        for (
        ; x.MoveNext();
        )
        {
            anon_e88004e435a542058ba9d176d39c755c row = x.Current;
            ResultRow resultRow = new ResultRow(6);
            resultRow[0] = row.DownloadPage.url;
            resultRow[1] = row.DownloadPage.nodes;
            resultRow[2] = row.DownloadPage.date;
            resultRow[3] = row.DownloadPage.size;
            resultRow[4] = row.b.a0;
            resultRow[5] = row.b.a1;
            result.Add(resultRow);
        }
        OnSelect(result);
        return result;
    }

    public void Step_9953748b72c747dd811f8b8d0fd7a7e7()
    {
        Select_cf3782af64b844a0b82ab06c975b0587();
        OnProgress();
    }

    public void Step_c07134a9e39c4fcc97a76112874fc272()
    {
        OnProgress(new ProgressArgs(TotalOperations, TotalOperations));
    }

    private class Scope_91cec99fabaa499187b1754d0ba759dd
    {

        public int g_identity;

        public Scope_91cec99fabaa499187b1754d0ba759dd()
        {
        }
    }

    private class Scope_7cef75fe778841a59a333156cddc9a5f
    {

        public CodeTable<temp> temp;

        public Scope_7cef75fe778841a59a333156cddc9a5f()
        {
            temp = new BufferTable<temp>();
        }
    }

    private class temp : IRow
    {

        public string val;
    }

    private class anon_6ff42fd418814f4699ae309128d6d642 : IRow
    {

        public DownloadPage DownloadPage;
    }

    private class b : IRow
    {

        public string a0;

        public string a1;
    }

    private class anon_e88004e435a542058ba9d176d39c755c : IRow
    {

        public b b;
    }
}
