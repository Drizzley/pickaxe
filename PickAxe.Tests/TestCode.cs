//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using HtmlAgilityPack;
using Pickaxe.Runtime;
using System;
using System.Collections.Generic;
using System.Linq;



public class Code : RuntimeBase
{

    private Scope_6bf5b59389cf4efd90e8d1b92668766a _Scope_6bf5b59389cf4efd90e8d1b92668766a;

    private Scope_bb198c3e30664393afd423dd1247494b _Scope_bb198c3e30664393afd423dd1247494b;

    public Code(string[] args) :
        base(args)
    {
        _Scope_6bf5b59389cf4efd90e8d1b92668766a = new Scope_6bf5b59389cf4efd90e8d1b92668766a();
        _Scope_bb198c3e30664393afd423dd1247494b = new Scope_bb198c3e30664393afd423dd1247494b();
        TotalOperations = (TotalOperations + 2);
    }

    public void Run()
    {
        InitProxies();
        Block_7d9e4a06ef2040c088e10009144719fe();
        Step_4cb31083e4f94b839c91d2fad27ba66c();
    }

    public void Block_7d9e4a06ef2040c088e10009144719fe()
    {
        Step_b24e44b18cf0475ab68c754d0b0c2520();
        Step_53a3c137e67047f9a12c85bc5bc11b67();
    }

    private Table<ResultRow> Select_2d7acce0a480409e8a3e72f82f7079d9()
    {
        Call(6);
        RuntimeTable<ResultRow> result = new RuntimeTable<ResultRow>();
        ResultRow resultRow = new ResultRow(1);
        result.AddColumn("(No column name)");
        resultRow[0] = null;
        result.Add(resultRow);
        return result;
    }

    private void Insert_6c3dfed7d2b44c44a4ccec540ec73005()
    {
        Call(5);
        Table<ResultRow> resultRows = Select_2d7acce0a480409e8a3e72f82f7079d9();
        _Scope_bb198c3e30664393afd423dd1247494b.t.BeforeInsert(false);
        _Scope_6bf5b59389cf4efd90e8d1b92668766a.g_identity = _Scope_bb198c3e30664393afd423dd1247494b.t.RowCount;
        IEnumerator<ResultRow> x = resultRows.GetEnumerator();
        for (
        ; x.MoveNext();
        )
        {
            _Scope_6bf5b59389cf4efd90e8d1b92668766a.g_identity = (_Scope_6bf5b59389cf4efd90e8d1b92668766a.g_identity + 1);
            ResultRow row = x.Current;
            t tableRow = new t();
            tableRow.a = null;
            if ((row[0] != null))
            {
                tableRow.a = Convert.ToInt32(row[0]);
            }
            _Scope_bb198c3e30664393afd423dd1247494b.t.Add(tableRow);
        }
        _Scope_bb198c3e30664393afd423dd1247494b.t.AfterInsert();
    }

    public void Step_b24e44b18cf0475ab68c754d0b0c2520()
    {
        Insert_6c3dfed7d2b44c44a4ccec540ec73005();
        OnProgress();
    }

    private CodeTable<anon_2bdcc2aaa6434673b77f85da491edfc0> From_97c08d0267c6494e9f5992c5b2b3b01b()
    {
        Call(9);
        IEnumerable<anon_2bdcc2aaa6434673b77f85da491edfc0> join = Fetch_96b5e70c7d044456886f02514d66cd05();
        CodeTable<anon_2bdcc2aaa6434673b77f85da491edfc0> newTable = new CodeTable<anon_2bdcc2aaa6434673b77f85da491edfc0>();
        newTable.SetRows(join.ToList());
        return newTable;
    }

    private IEnumerable<anon_2bdcc2aaa6434673b77f85da491edfc0> Fetch_96b5e70c7d044456886f02514d66cd05()
    {
        CodeTable<t> table = _Scope_bb198c3e30664393afd423dd1247494b.t;
        return table.Select(o =>
        {
            return Copy_4ad7f59c559942e28f210aae5f52bdaa(o);
        });
    }

    private anon_2bdcc2aaa6434673b77f85da491edfc0 Copy_4ad7f59c559942e28f210aae5f52bdaa(t o)
    {
        anon_2bdcc2aaa6434673b77f85da491edfc0 t = new anon_2bdcc2aaa6434673b77f85da491edfc0();
        t.t = o;
        return t;
    }

    private Table<ResultRow> Select_100694991e16447c8a2e8b365ea1872a()
    {
        Call(8);
        RuntimeTable<ResultRow> result = new RuntimeTable<ResultRow>();
        result.AddColumn("a");
        CodeTable<anon_2bdcc2aaa6434673b77f85da491edfc0> fromTable = From_97c08d0267c6494e9f5992c5b2b3b01b();
        IEnumerator<anon_2bdcc2aaa6434673b77f85da491edfc0> x = fromTable.GetEnumerator();
        for (
        ; x.MoveNext();
        )
        {
            anon_2bdcc2aaa6434673b77f85da491edfc0 row = x.Current;
            ResultRow resultRow = new ResultRow(1);
            resultRow[0] = row.t.a;
            if ((resultRow[0] != null))
            {
                result.Add(resultRow);
            }
        }
        OnSelect(result);
        return result;
    }

    public void Step_53a3c137e67047f9a12c85bc5bc11b67()
    {
        Select_100694991e16447c8a2e8b365ea1872a();
        OnProgress();
    }

    public void Step_4cb31083e4f94b839c91d2fad27ba66c()
    {
        OnProgress(new ProgressArgs(TotalOperations, TotalOperations));
    }

    private class Scope_6bf5b59389cf4efd90e8d1b92668766a
    {

        public int g_identity;

        public Scope_6bf5b59389cf4efd90e8d1b92668766a()
        {
        }
    }

    private class Scope_bb198c3e30664393afd423dd1247494b
    {

        public CodeTable<t> t;

        public Scope_bb198c3e30664393afd423dd1247494b()
        {
            t = new BufferTable<t>();
        }
    }

    private class t : IRow
    {

        public Nullable<int> a;
    }

    private class anon_2bdcc2aaa6434673b77f85da491edfc0 : IRow
    {

        public t t;
    }
}
