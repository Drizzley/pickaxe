//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using HtmlAgilityPack;
using Pickaxe.Runtime;
using System;
using System.Collections.Generic;
using System.Linq;



public class Code : RuntimeBase
{

    private Scope_e6f13d785646470585b7bd1ed9fa56ab _Scope_e6f13d785646470585b7bd1ed9fa56ab;

    private Scope_b35c3340fe98419e84c2e67f98dfc4a6 _Scope_b35c3340fe98419e84c2e67f98dfc4a6;

    public Code()
    {
        _Scope_e6f13d785646470585b7bd1ed9fa56ab = new Scope_e6f13d785646470585b7bd1ed9fa56ab();
        _Scope_b35c3340fe98419e84c2e67f98dfc4a6 = new Scope_b35c3340fe98419e84c2e67f98dfc4a6();
        TotalOperations = (TotalOperations + 1);
    }

    public void Run()
    {
        InitProxies();
        Block_c2052f3c59694f1ca9578683d2d22e26();
        Step_768a5e8caf5f4f6083e855edd8c45461();
    }

    public void Block_c2052f3c59694f1ca9578683d2d22e26()
    {
        Step_9fa96fd733d544c995bae1415f909dda();
    }

    private CodeTable<anon_ae6b0ecce7b34401ac62f539cc04608e> From_85fbe808e0304601a60cecc068651786()
    {
        Call(7);
        CodeTable<a> table = _Scope_b35c3340fe98419e84c2e67f98dfc4a6.a;
        IEnumerable<anon_9b5c9846ebe24cc7930eacef4663142d> join = table.Select(o =>
        {
            return Copy_7221d56bd31541559e6432bba214236b(o);
        });
        return Join_5102949f4ad04b65a366963beac560bb(join);
    }

    private anon_9b5c9846ebe24cc7930eacef4663142d Copy_7221d56bd31541559e6432bba214236b(a o)
    {
        anon_9b5c9846ebe24cc7930eacef4663142d t = new anon_9b5c9846ebe24cc7930eacef4663142d();
        t.a = o;
        return t;
    }

    private CodeTable<anon_ae6b0ecce7b34401ac62f539cc04608e> Join_5102949f4ad04b65a366963beac560bb(IEnumerable<anon_9b5c9846ebe24cc7930eacef4663142d> outer)
    {
        Call(8);
        CodeTable<b> table = _Scope_b35c3340fe98419e84c2e67f98dfc4a6.b;
        //row.a.id;
        IList<anon_ae6b0ecce7b34401ac62f539cc04608e> join = new List<anon_ae6b0ecce7b34401ac62f539cc04608e>();
        IEnumerator<anon_9b5c9846ebe24cc7930eacef4663142d> o = outer.GetEnumerator();
        for (
        ; o.MoveNext();
        )
        {
            anon_9b5c9846ebe24cc7930eacef4663142d oc = o.Current;
            IEnumerator<b> i = table.GetEnumerator();

            for (
            ; i.MoveNext();
                )
            {
                b ic = i.Current;

                if (oc.a.id == ic.id)
                {
                   join.Add(new anon_ae6b0ecce7b34401ac62f539cc04608e { a = oc.a, b = ic});
                }
            }
        }

        var newTable = new CodeTable<anon_ae6b0ecce7b34401ac62f539cc04608e>();
        newTable.SetRows(newTable.ToList());
        return newTable;
    }

    private Table<ResultRow> Select_f17001434c384d139579915e7367db5c()
    {
        Call(6);
        RuntimeTable<ResultRow> result = new RuntimeTable<ResultRow>();
        CodeTable<anon_ae6b0ecce7b34401ac62f539cc04608e> fromTable = From_85fbe808e0304601a60cecc068651786();
        IEnumerator<anon_ae6b0ecce7b34401ac62f539cc04608e> x = fromTable.GetEnumerator();
        for (
        ; x.MoveNext();
        )
        {
            anon_ae6b0ecce7b34401ac62f539cc04608e row = x.Current;
            ResultRow resultRow = new ResultRow(0);
        }
        OnSelect(result);
        return result;
    }

    public void Step_9fa96fd733d544c995bae1415f909dda()
    {
        Select_f17001434c384d139579915e7367db5c();
        OnProgress();
    }

    public void Step_768a5e8caf5f4f6083e855edd8c45461()
    {
        OnProgress(new ProgressArgs(TotalOperations, TotalOperations));
    }

    private class Scope_e6f13d785646470585b7bd1ed9fa56ab
    {

        public int g_identity;

        public Scope_e6f13d785646470585b7bd1ed9fa56ab()
        {
        }
    }

    private class Scope_b35c3340fe98419e84c2e67f98dfc4a6
    {

        public CodeTable<a> a;

        public CodeTable<b> b;

        public Scope_b35c3340fe98419e84c2e67f98dfc4a6()
        {
            a = new BufferTable<a>();
            b = new BufferTable<b>();
        }
    }

    private class a : IRow
    {

        public int id;

        public string name;
    }

    private class b : IRow
    {

        public int id;

        public string name;
    }

    private class anon_9b5c9846ebe24cc7930eacef4663142d : IRow
    {

        public a a;
    }

    private class anon_ae6b0ecce7b34401ac62f539cc04608e : IRow
    {

        public a a;

        public b b;
    }
}
